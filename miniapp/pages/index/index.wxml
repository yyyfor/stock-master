<view class="page">
  <view class="header card">
    <view class="title">Stock Master</view>
    <view class="subtitle">Last update: {{updatedAt}}</view>
  </view>

  <view wx:if="{{loading}}" class="loading">Loading data...</view>
  <view wx:if="{{error}}" class="error">{{error}}</view>

  <view wx:for="{{cards}}" wx:key="key" class="stock card" data-company="{{item.key}}" bindtap="openCompany">
    <view class="row-top">
      <text class="name">{{item.name}}</text>
      <text class="rating">{{item.rating}}</text>
    </view>
    <view class="row-main">
      <text class="price">HK${{item.price}}</text>
      <text class="change {{item.changeClass}}">{{item.changePct}}%</text>
    </view>
    <view class="row-meta">
      <text>Market Cap: {{item.marketCap}}</text>
      <text>P/E: {{item.peRatio}}x</text>
    </view>
  </view>
</view>
