<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Equity Analysis: Alibaba vs Xiaomi vs Meituan</title>

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>

    <style>
        :root {
            --alibaba-color: #FF6A00;
            --xiaomi-color: #FF6700;
            --meituan-color: #FFD100;
            --primary-dark: #1a1a2e;
            --secondary-dark: #16213e;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .main-container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }

        header {
            background: linear-gradient(135deg, var(--primary-dark) 0%, var(--secondary-dark) 100%);
            color: white;
            padding: 40px;
            text-align: center;
        }

        header h1 {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 15px;
        }

        header .date {
            font-size: 1rem;
            opacity: 0.8;
            margin-bottom: 20px;
        }

        .exec-summary {
            background: rgba(255,255,255,0.1);
            padding: 20px;
            border-radius: 10px;
            margin-top: 20px;
            text-align: left;
        }

        .content-wrapper {
            padding: 40px;
        }

        .company-section {
            margin-bottom: 60px;
            padding: 30px;
            border-radius: 15px;
            background: #f8f9fa;
            border-left: 6px solid;
        }

        .company-section.alibaba {
            border-left-color: var(--alibaba-color);
        }

        .company-section.xiaomi {
            border-left-color: var(--xiaomi-color);
        }

        .company-section.meituan {
            border-left-color: var(--meituan-color);
        }

        .company-section h2 {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 25px;
            color: var(--primary-dark);
        }

        .summary, .competitive, .risks {
            margin-bottom: 30px;
        }

        .summary h3, .competitive h3, .risks h3, .financial-tables h3, .charts h3 {
            font-size: 1.4rem;
            font-weight: 600;
            margin-bottom: 15px;
            color: var(--secondary-dark);
            border-bottom: 2px solid #dee2e6;
            padding-bottom: 10px;
        }

        .financial-tables table {
            width: 100%;
            margin-bottom: 25px;
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .financial-tables table th {
            background: var(--primary-dark);
            color: white;
            padding: 15px;
            text-align: right;
            font-weight: 600;
        }

        .financial-tables table th:first-child {
            text-align: left;
        }

        .financial-tables table td {
            padding: 12px 15px;
            text-align: right;
            border-bottom: 1px solid #dee2e6;
        }

        .financial-tables table td:first-child {
            text-align: left;
            font-weight: 600;
            color: var(--primary-dark);
        }

        .financial-tables table tr:hover {
            background: #f8f9fa;
        }

        .chart-container {
            position: relative;
            height: 350px;
            margin-bottom: 30px;
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .callout-box {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }

        .callout-box h4 {
            font-weight: 700;
            margin-bottom: 10px;
        }

        .risks ul {
            list-style: none;
            padding: 0;
        }

        .risks ul li {
            background: white;
            padding: 12px 15px;
            margin-bottom: 10px;
            border-radius: 8px;
            border-left: 4px solid #dc3545;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }

        .risks ul li:before {
            content: "‚ö†Ô∏è ";
            margin-right: 8px;
        }

        #comparative {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            padding: 40px;
            border-radius: 15px;
            margin: 40px 0;
            color: white;
        }

        #comparative h2 {
            color: white;
            text-align: center;
            margin-bottom: 30px;
            font-size: 2rem;
            font-weight: 700;
        }

        #conclusion {
            background: var(--primary-dark);
            color: white;
            padding: 40px;
            border-radius: 15px;
            margin-top: 40px;
        }

        #conclusion h2 {
            color: white;
            margin-bottom: 25px;
            font-size: 2rem;
            font-weight: 700;
        }

        .rating-table {
            background: white;
            color: var(--primary-dark);
            border-radius: 10px;
            padding: 20px;
            margin-top: 20px;
        }

        .rating-table table {
            width: 100%;
        }

        .rating-table th {
            background: var(--secondary-dark);
            color: white;
            padding: 15px;
            text-align: center;
        }

        .rating-table td {
            padding: 12px;
            text-align: center;
            border-bottom: 1px solid #dee2e6;
        }

        .badge-buy {
            background: #28a745;
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            font-weight: 600;
        }

        .badge-hold {
            background: #ffc107;
            color: var(--primary-dark);
            padding: 8px 16px;
            border-radius: 20px;
            font-weight: 600;
        }

        .badge-sell {
            background: #dc3545;
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            font-weight: 600;
        }

        .disclaimer {
            background: #fff3cd;
            color: #856404;
            padding: 15px;
            border-radius: 8px;
            margin: 20px 0;
            font-size: 0.9rem;
            border: 1px solid #ffc107;
        }

        .lang-switcher {
            position: absolute;
            top: 20px;
            right: 30px;
            display: flex;
            gap: 10px;
        }

        .lang-btn {
            padding: 8px 20px;
            border: 2px solid white;
            background: rgba(255,255,255,0.1);
            color: white;
            border-radius: 20px;
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s;
        }

        .lang-btn:hover {
            background: white;
            color: var(--primary-dark);
        }

        .lang-btn.active {
            background: white;
            color: var(--primary-dark);
        }
    
        /* Tab Navigation Styles */
        .nav-tabs-custom {
            border-bottom: 3px solid var(--primary-dark);
            margin-bottom: 30px;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            padding: 10px 20px 0;
            border-radius: 15px 15px 0 0;
        }

        .nav-tabs-custom .nav-link {
            border: none;
            color: #6c757d;
            font-weight: 600;
            font-size: 1.1rem;
            padding: 15px 30px;
            margin-right: 5px;
            border-radius: 10px 10px 0 0;
            transition: all 0.3s;
        }

        .nav-tabs-custom .nav-link:hover {
            background: rgba(255,255,255,0.5);
            color: var(--primary-dark);
        }

        .nav-tabs-custom .nav-link.active {
            background: white;
            color: var(--primary-dark);
            box-shadow: 0 -3px 10px rgba(0,0,0,0.1);
        }

        .tab-content {
            background: white;
            padding: 30px;
            border-radius: 0 0 15px 15px;
            min-height: 500px;
        }

        .tab-pane {
            animation: fadeIn 0.5s;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* News Section Styles */
        .news-section {
            background: linear-gradient(135deg, #f8f9fa 0%, #ffffff 100%);
            padding: 30px;
            border-radius: 15px;
            margin-top: 40px;
            border-left: 5px solid var(--primary-dark);
        }

        .news-section h3 {
            color: var(--primary-dark);
            margin-bottom: 25px;
            font-size: 1.8rem;
            font-weight: 700;
        }

        .news-item {
            background: white;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 15px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
            transition: all 0.3s;
            border-left: 4px solid transparent;
        }

        .news-item:hover {
            box-shadow: 0 4px 15px rgba(0,0,0,0.15);
            transform: translateX(5px);
            border-left-color: var(--primary-dark);
        }

        .news-item h4 {
            font-size: 1.2rem;
            font-weight: 600;
            color: var(--primary-dark);
            margin-bottom: 10px;
        }

        .news-item h4 a {
            color: var(--primary-dark);
            text-decoration: none;
            transition: color 0.3s;
        }

        .news-item h4 a:hover {
            color: #667eea;
        }

        .news-meta {
            color: #6c757d;
            font-size: 0.85rem;
            margin-bottom: 10px;
        }

        .news-meta .news-source {
            font-weight: 600;
            color: #667eea;
        }

        .news-summary {
            color: #555;
            line-height: 1.6;
        }

        .news-loading {
            text-align: center;
            padding: 40px;
            color: #6c757d;
            font-style: italic;
        }

        .summary-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .summary-card {
            background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%);
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            border-top: 5px solid;
            transition: all 0.3s;
        }

        .summary-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }

        .summary-card.alibaba {
            border-top-color: var(--alibaba-color);
        }

        .summary-card.xiaomi {
            border-top-color: var(--xiaomi-color);
        }

        .summary-card.meituan {
            border-top-color: var(--meituan-color);
        }

        .summary-card h3 {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 15px;
        }

        .summary-stat {
            display: flex;
            justify-content: space-between;
            padding: 10px 0;
            border-bottom: 1px solid #e9ecef;
        }

        .summary-stat:last-child {
            border-bottom: none;
        }

        .summary-stat .label {
            font-weight: 600;
            color: #6c757d;
        }

        .summary-stat .value {
            font-weight: 700;
            color: var(--primary-dark);
        }

    </style>
</head>
<body>
    <div class="container main-container">
        <header>
            <div class="lang-switcher">
                <a href="equity-analysis.html" class="lang-btn active">English</a>
                <a href="equity-analysis-zh.html" class="lang-btn">‰∏≠Êñá</a>
            </div>
            <h1>üè¢ Comprehensive Equity Analysis</h1>
            <h2>Alibaba Group vs Xiaomi Corporation vs Meituan</h2>
            <p class="date">Analysis Date: January 03, 2026</p>

            <div class="exec-summary">
                <h3>üìä Executive Summary</h3>
                <p>This comparative analysis examines three leading Chinese technology companies across e-commerce, consumer electronics, and local services sectors. <strong>Alibaba Group</strong> demonstrates resilient cloud growth amid e-commerce headwinds, with regulatory tailwinds emerging. <strong>Xiaomi Corporation</strong> is successfully pivoting toward premium smartphones and electric vehicles, showing strong international expansion. <strong>Meituan</strong> maintains dominant market position in local services with improving unit economics and emerging instant retail opportunities. Each company faces distinct regulatory environments, competitive dynamics, and growth catalysts that inform differentiated investment theses.</p>
            </div>
        </header>

        <div class="content-wrapper">
            <div class="disclaimer">
                <strong>‚ö†Ô∏è Data Disclaimer:</strong> Financial figures presented are based on publicly available information. For investment decisions, please consult official financial statements and qualified financial advisors. This is not investment advice.
            </div>

            <!-- Tab Navigation -->
            <ul class="nav nav-tabs nav-tabs-custom" id="companyTabs" role="tablist">
                <li class="nav-item" role="presentation">
                    <button class="nav-link active" id="summary-tab" data-bs-toggle="tab" data-bs-target="#summary" type="button" role="tab">
                        üìä Summary
                    </button>
                </li>
                <li class="nav-item" role="presentation">
                    <button class="nav-link" id="alibaba-tab" data-bs-toggle="tab" data-bs-target="#alibaba" type="button" role="tab">
                        üõí Alibaba
                    </button>
                </li>
                <li class="nav-item" role="presentation">
                    <button class="nav-link" id="xiaomi-tab" data-bs-toggle="tab" data-bs-target="#xiaomi" type="button" role="tab">
                        üì± Xiaomi
                    </button>
                </li>
                <li class="nav-item" role="presentation">
                    <button class="nav-link" id="meituan-tab" data-bs-toggle="tab" data-bs-target="#meituan" type="button" role="tab">
                        üõµ Meituan
                    </button>
                </li>
            </ul>

            <!-- Tab Content -->
            <div class="tab-content" id="companyTabsContent">

                <!-- SUMMARY TAB -->
                <div class="tab-pane fade show active" id="summary" role="tabpanel">
                    <h2 style="text-align: center; color: var(--primary-dark); margin-bottom: 30px;">üìä Market Overview</h2>

                    <!-- Summary Cards -->
                    <div class="summary-grid">
                        <div class="summary-card alibaba">
                            <h3>üõí Alibaba (9988.HK)</h3>
                            <div class="summary-stat">
                                <span class="label">Rating:</span>
                                <span class="value" style="color: #28a745;">BUY</span>
                            </div>
                            <div class="summary-stat">
                                <span class="label">Target Price:</span>
                                <span class="value">$120 (12M)</span>
                            </div>
                            <div class="summary-stat">
                                <span class="label">Upside:</span>
                                <span class="value">+45%</span>
                            </div>
                            <div class="summary-stat">
                                <span class="label">FY24 Revenue:</span>
                                <span class="value">¬•902.5B</span>
                            </div>
                            <div class="summary-stat">
                                <span class="label">P/E Ratio:</span>
                                <span class="value">10.2x</span>
                            </div>
                        </div>

                        <div class="summary-card xiaomi">
                            <h3>üì± Xiaomi (1810.HK)</h3>
                            <div class="summary-stat">
                                <span class="label">Rating:</span>
                                <span class="value" style="color: #ffc107;">HOLD</span>
                            </div>
                            <div class="summary-stat">
                                <span class="label">Target Price:</span>
                                <span class="value">HK$22 (12M)</span>
                            </div>
                            <div class="summary-stat">
                                <span class="label">Upside:</span>
                                <span class="value">+15%</span>
                            </div>
                            <div class="summary-stat">
                                <span class="label">FY24 Revenue:</span>
                                <span class="value">¬•305.0B</span>
                            </div>
                            <div class="summary-stat">
                                <span class="label">P/E Ratio:</span>
                                <span class="value">15.3x</span>
                            </div>
                        </div>

                        <div class="summary-card meituan">
                            <h3>üõµ Meituan (3690.HK)</h3>
                            <div class="summary-stat">
                                <span class="label">Rating:</span>
                                <span class="value" style="color: #28a745;">BUY</span>
                            </div>
                            <div class="summary-stat">
                                <span class="label">Target Price:</span>
                                <span class="value">HK$180 (12M)</span>
                            </div>
                            <div class="summary-stat">
                                <span class="label">Upside:</span>
                                <span class="value">+35%</span>
                            </div>
                            <div class="summary-stat">
                                <span class="label">FY24 Revenue:</span>
                                <span class="value">¬•325.5B</span>
                            </div>
                            <div class="summary-stat">
                                <span class="label">P/E Ratio:</span>
                                <span class="value">20.1x</span>
                            </div>
                        </div>
                    </div>

                    <!-- Comparative Charts -->
                    <div style="margin-top: 40px;">
                        <h3 style="color: var(--primary-dark); margin-bottom: 20px;">Comparative Analysis</h3>

                        <div class="row">
                            <div class="col-md-6">
                                <div class="chart-container">
                                    <canvas id="chart-summary-revenue"></canvas>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="chart-container">
                                    <canvas id="chart-summary-growth"></canvas>
                                </div>
                            </div>
                        </div>

                        <div class="row mt-4">
                            <div class="col-md-6">
                                <div class="chart-container">
                                    <canvas id="chart-summary-margins"></canvas>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="chart-container">
                                    <canvas id="chart-summary-valuation"></canvas>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- ALIBABA TAB -->
                <div class="tab-pane fade" id="alibaba" role="tabpanel">
                    <div class="company-section alibaba" style="margin: 0; border-left: none; border-top: 5px solid var(--alibaba-color);">
                        <h2>üõí Alibaba Group (9988.HK / BABA)</h2>

                        <div class="row">
                            <div class="col-md-8">
                                <div class="summary">
                                    <h3>Business Overview</h3>
                                    <p>Alibaba Group is China's largest e-commerce conglomerate with diversified business segments:</p>
                                    <ul>
                                        <li><strong>Core Commerce:</strong> Taobao, Tmall (China retail), Lazada (Southeast Asia)</li>
                                        <li><strong>Cloud Computing:</strong> Alibaba Cloud (leading provider in China and Asia-Pacific)</li>
                                        <li><strong>Digital Media:</strong> Youku, UC Browser, digital content</li>
                                        <li><strong>Innovation:</strong> Cainiao logistics, DingTalk enterprise tools</li>
                                    </ul>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="callout-box" style="margin-top: 0;">
                                    <h4>üí° Investment Rating</h4>
                                    <p style="font-size: 2rem; text-align: center; margin: 20px 0;">
                                        <span class="badge-buy">BUY</span>
                                    </p>
                                    <p><strong>Target:</strong> $120</p>
                                    <p><strong>Upside:</strong> +45%</p>
                                    <p><strong>Risk:</strong> Medium</p>
                                </div>
                            </div>
                        </div>

                        <div class="row mt-4">
                            <div class="col-md-6">
                                <div class="chart-container">
                                    <canvas id="chart-alibaba-revenue"></canvas>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="chart-container">
                                    <canvas id="chart-alibaba-margin"></canvas>
                                </div>
                            </div>
                        </div>

                        <div class="callout-box mt-4">
                            <h4>üí° Key Investment Thesis</h4>
                            <p><strong>Undervalued AI & Cloud Leader:</strong> Trading at ~10x forward P/E despite 40%+ cloud market share. Regulatory clarity improving, cloud profitability inflection approaching. $25B buyback demonstrates confidence.</p>
                        </div>

                        <div class="risks mt-4">
                            <h3>Key Risks</h3>
                            <ul>
                                <li><strong>Regulatory:</strong> Potential renewed antitrust scrutiny</li>
                                <li><strong>Competition:</strong> Market share erosion from Douyin, Pinduoduo</li>
                                <li><strong>Macro:</strong> China consumer spending weakness</li>
                                <li><strong>Geopolitical:</strong> US-China tensions impact</li>
                            </ul>
                        </div>
                    </div>

                    <!-- News Section -->
                    <div class="news-section">
                        <h3>üì∞ Latest News</h3>
                        <div id="alibaba-news">
                            <div class="news-loading">Loading latest news...</div>
                        </div>
                    </div>
                </div>

                <!-- XIAOMI TAB -->
                <div class="tab-pane fade" id="xiaomi" role="tabpanel">
                    <div class="company-section xiaomi" style="margin: 0; border-left: none; border-top: 5px solid var(--xiaomi-color);">
                        <h2>üì± Xiaomi Corporation (1810.HK)</h2>

                        <div class="row">
                            <div class="col-md-8">
                                <div class="summary">
                                    <h3>Business Overview</h3>
                                    <p>Xiaomi is a leading consumer electronics company with integrated ecosystem:</p>
                                    <ul>
                                        <li><strong>Smartphones:</strong> World's #3 maker (14% global share), premium segment growth</li>
                                        <li><strong>IoT & Lifestyle:</strong> 700M+ connected devices (TVs, wearables, appliances)</li>
                                        <li><strong>Internet Services:</strong> Advertising, gaming, fintech (HyperOS)</li>
                                        <li><strong>Electric Vehicles:</strong> SU7 EV launch targeting premium segment</li>
                                    </ul>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="callout-box" style="margin-top: 0;">
                                    <h4>üí° Investment Rating</h4>
                                    <p style="font-size: 2rem; text-align: center; margin: 20px 0;">
                                        <span class="badge-hold">HOLD</span>
                                    </p>
                                    <p><strong>Target:</strong> HK$22</p>
                                    <p><strong>Upside:</strong> +15%</p>
                                    <p><strong>Risk:</strong> High</p>
                                </div>
                            </div>
                        </div>

                        <div class="row mt-4">
                            <div class="col-md-6">
                                <div class="chart-container">
                                    <canvas id="chart-xiaomi-revenue"></canvas>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="chart-container">
                                    <canvas id="chart-xiaomi-margin"></canvas>
                                </div>
                            </div>
                        </div>

                        <div class="callout-box mt-4">
                            <h4>üí° Key Investment Thesis</h4>
                            <p><strong>Premium Transition & EV Optionality:</strong> Successful pivot to premium smartphones (30%+ of mix) driving margin expansion. SU7 EV represents ¬•100-150B revenue opportunity. Trading at 15x P/E with 25%+ growth.</p>
                        </div>

                        <div class="risks mt-4">
                            <h3>Key Risks</h3>
                            <ul>
                                <li><strong>EV Execution:</strong> Automotive business unproven, capital intensive</li>
                                <li><strong>Competition:</strong> Intense smartphone price pressure</li>
                                <li><strong>Supply Chain:</strong> Semiconductor supply dependencies</li>
                                <li><strong>International:</strong> Geopolitical expansion risks</li>
                            </ul>
                        </div>
                    </div>

                    <!-- News Section -->
                    <div class="news-section">
                        <h3>üì∞ Latest News</h3>
                        <div id="xiaomi-news">
                            <div class="news-loading">Loading latest news...</div>
                        </div>
                    </div>
                </div>

                <!-- MEITUAN TAB -->
                <div class="tab-pane fade" id="meituan" role="tabpanel">
                    <div class="company-section meituan" style="margin: 0; border-left: none; border-top: 5px solid var(--meituan-color);">
                        <h2>üõµ Meituan (3690.HK)</h2>

                        <div class="row">
                            <div class="col-md-8">
                                <div class="summary">
                                    <h3>Business Overview</h3>
                                    <p>Meituan is China's leading local services platform:</p>
                                    <ul>
                                        <li><strong>Food Delivery:</strong> 70%+ market share, 700M+ users, 9M+ merchants</li>
                                        <li><strong>In-Store & Travel:</strong> Restaurant reservations, hotel bookings</li>
                                        <li><strong>New Initiatives:</strong> Instant retail, community buying, ride-hailing</li>
                                    </ul>
                                    <p>High-frequency delivery drives platform stickiness and cross-selling opportunities.</p>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="callout-box" style="margin-top: 0;">
                                    <h4>üí° Investment Rating</h4>
                                    <p style="font-size: 2rem; text-align: center; margin: 20px 0;">
                                        <span class="badge-buy">BUY</span>
                                    </p>
                                    <p><strong>Target:</strong> HK$180</p>
                                    <p><strong>Upside:</strong> +35%</p>
                                    <p><strong>Risk:</strong> Medium</p>
                                </div>
                            </div>
                        </div>

                        <div class="row mt-4">
                            <div class="col-md-6">
                                <div class="chart-container">
                                    <canvas id="chart-meituan-revenue"></canvas>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="chart-container">
                                    <canvas id="chart-meituan-margin"></canvas>
                                </div>
                            </div>
                        </div>

                        <div class="callout-box mt-4">
                            <h4>üí° Key Investment Thesis</h4>
                            <p><strong>Dominant Platform with Margin Expansion:</strong> Unassailable 70%+ food delivery share provides high-frequency engagement. Operating margins improving from 11% to 16%+ as unit economics mature. Trading at ~20x P/E with 25-30% growth.</p>
                        </div>

                        <div class="risks mt-4">
                            <h3>Key Risks</h3>
                            <ul>
                                <li><strong>Labor Regulations:</strong> Gig worker cost increases</li>
                                <li><strong>Competition:</strong> Douyin expanding into local services</li>
                                <li><strong>Consumer Spending:</strong> Macro sensitivity</li>
                                <li><strong>Commission Pressure:</strong> Potential merchant rate reductions</li>
                            </ul>
                        </div>
                    </div>

                    <!-- News Section -->
                    <div class="news-section">
                        <h3>üì∞ Latest News</h3>
                        <div id="meituan-news">
                            <div class="news-loading">Loading latest news...</div>
                        </div>
                    </div>
                </div>

            </div>
        </div>

            <footer style="text-align: center; padding: 30px; color: #6c757d; border-top: 2px solid #dee2e6; margin-top: 40px;">
                <p><strong>Disclaimer:</strong> This analysis is for informational and educational purposes only. Not investment advice. Consult qualified financial professionals before making investment decisions. Data is approximate/illustrative based on publicly available information.</p>
                <p style="font-size: 0.9rem; margin-top: 10px;">Generated: January 3, 2026 | Analysis period: FY2023-FY2025E</p>
            </footer>
        </div>
    </div>

    <!-- Chart.js Scripts -->
    <script>
        // Configure default chart options
        Chart.defaults.font.family = "'Segoe UI', Tahoma, Geneva, Verdana, sans-serif";
        Chart.defaults.color = '#333';

        // ALIBABA CHARTS
        // Revenue Trend
        new Chart(document.getElementById('chart-alibaba-revenue'), {
            type: 'line',
            data: {
                labels: ['FY 2023', 'FY 2024', 'FY 2025E'],
                datasets: [{
                    label: 'Total Revenue (¬•B)',
                    data: [868.7, 902.5, 945.0],
                    borderColor: '#FF6A00',
                    backgroundColor: 'rgba(255, 106, 0, 0.1)',
                    borderWidth: 3,
                    fill: true,
                    tension: 0.4
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    title: {
                        display: true,
                        text: 'Alibaba Revenue Trend',
                        font: { size: 16, weight: 'bold' }
                    },
                    legend: { display: true, position: 'bottom' }
                },
                scales: {
                    y: {
                        beginAtZero: false,
                        ticks: {
                            callback: function(value) {
                                return '¬•' + value + 'B';
                            }
                        }
                    }
                }
            }
        });

        // Profit Trend
        new Chart(document.getElementById('chart-alibaba-profit'), {
            type: 'bar',
            data: {
                labels: ['FY 2023', 'FY 2024', 'FY 2025E'],
                datasets: [{
                    label: 'Net Income (¬•B)',
                    data: [76.8, 95.3, 112.0],
                    backgroundColor: ['rgba(255, 106, 0, 0.7)', 'rgba(255, 106, 0, 0.8)', 'rgba(255, 106, 0, 0.9)'],
                    borderColor: '#FF6A00',
                    borderWidth: 2
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    title: {
                        display: true,
                        text: 'Alibaba Net Income Growth',
                        font: { size: 16, weight: 'bold' }
                    },
                    legend: { display: true, position: 'bottom' }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        ticks: {
                            callback: function(value) {
                                return '¬•' + value + 'B';
                            }
                        }
                    }
                }
            }
        });

        // Segment Revenue
        new Chart(document.getElementById('chart-alibaba-segments'), {
            type: 'doughnut',
            data: {
                labels: ['Core Commerce', 'Cloud Computing', 'Digital Media', 'Innovation/Others'],
                datasets: [{
                    data: [650, 91.8, 85, 75.7],
                    backgroundColor: [
                        'rgba(255, 106, 0, 0.9)',
                        'rgba(102, 126, 234, 0.9)',
                        'rgba(118, 75, 162, 0.9)',
                        'rgba(237, 100, 166, 0.9)'
                    ],
                    borderWidth: 2,
                    borderColor: '#fff'
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    title: {
                        display: true,
                        text: 'Alibaba Revenue by Segment (FY 2024)',
                        font: { size: 16, weight: 'bold' }
                    },
                    legend: { display: true, position: 'right' }
                }
            }
        });

        // XIAOMI CHARTS
        // Revenue Trend
        new Chart(document.getElementById('chart-xiaomi-revenue'), {
            type: 'line',
            data: {
                labels: ['FY 2023', 'FY 2024', 'FY 2025E'],
                datasets: [{
                    label: 'Total Revenue (¬•B)',
                    data: [270.9, 305.0, 348.0],
                    borderColor: '#FF6700',
                    backgroundColor: 'rgba(255, 103, 0, 0.1)',
                    borderWidth: 3,
                    fill: true,
                    tension: 0.4
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    title: {
                        display: true,
                        text: 'Xiaomi Revenue Trend',
                        font: { size: 16, weight: 'bold' }
                    },
                    legend: { display: true, position: 'bottom' }
                },
                scales: {
                    y: {
                        beginAtZero: false,
                        ticks: {
                            callback: function(value) {
                                return '¬•' + value + 'B';
                            }
                        }
                    }
                }
            }
        });

        // Profit and Margin
        new Chart(document.getElementById('chart-xiaomi-profit'), {
            type: 'bar',
            data: {
                labels: ['FY 2023', 'FY 2024', 'FY 2025E'],
                datasets: [
                    {
                        label: 'Net Income (¬•B)',
                        data: [19.3, 24.8, 30.5],
                        backgroundColor: 'rgba(255, 103, 0, 0.7)',
                        borderColor: '#FF6700',
                        borderWidth: 2,
                        yAxisID: 'y'
                    },
                    {
                        label: 'Gross Margin (%)',
                        data: [19.8, 21.2, 22.5],
                        type: 'line',
                        borderColor: '#4CAF50',
                        backgroundColor: 'rgba(76, 175, 80, 0.1)',
                        borderWidth: 3,
                        yAxisID: 'y1',
                        fill: false
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    title: {
                        display: true,
                        text: 'Xiaomi Profitability & Margin Expansion',
                        font: { size: 16, weight: 'bold' }
                    },
                    legend: { display: true, position: 'bottom' }
                },
                scales: {
                    y: {
                        type: 'linear',
                        position: 'left',
                        beginAtZero: true,
                        ticks: {
                            callback: function(value) {
                                return '¬•' + value + 'B';
                            }
                        }
                    },
                    y1: {
                        type: 'linear',
                        position: 'right',
                        beginAtZero: true,
                        max: 30,
                        ticks: {
                            callback: function(value) {
                                return value + '%';
                            }
                        },
                        grid: {
                            drawOnChartArea: false
                        }
                    }
                }
            }
        });

        // Segment Revenue
        new Chart(document.getElementById('chart-xiaomi-segments'), {
            type: 'bar',
            data: {
                labels: ['Smartphones', 'IoT & Lifestyle', 'Internet Services'],
                datasets: [
                    {
                        label: 'FY 2023',
                        data: [167.5, 77.6, 25.8],
                        backgroundColor: 'rgba(255, 103, 0, 0.6)'
                    },
                    {
                        label: 'FY 2024',
                        data: [185.0, 88.5, 31.5],
                        backgroundColor: 'rgba(255, 103, 0, 0.8)'
                    },
                    {
                        label: 'FY 2025E',
                        data: [208.0, 102.0, 38.0],
                        backgroundColor: 'rgba(255, 103, 0, 1)'
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    title: {
                        display: true,
                        text: 'Xiaomi Revenue by Segment (¬•B)',
                        font: { size: 16, weight: 'bold' }
                    },
                    legend: { display: true, position: 'bottom' }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        ticks: {
                            callback: function(value) {
                                return '¬•' + value + 'B';
                            }
                        }
                    }
                }
            }
        });

        // MEITUAN CHARTS
        // Revenue Trend
        new Chart(document.getElementById('chart-meituan-revenue'), {
            type: 'line',
            data: {
                labels: ['FY 2023', 'FY 2024', 'FY 2025E'],
                datasets: [{
                    label: 'Total Revenue (¬•B)',
                    data: [279.8, 325.5, 380.0],
                    borderColor: '#FFD100',
                    backgroundColor: 'rgba(255, 209, 0, 0.2)',
                    borderWidth: 3,
                    fill: true,
                    tension: 0.4
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    title: {
                        display: true,
                        text: 'Meituan Revenue Trend',
                        font: { size: 16, weight: 'bold' }
                    },
                    legend: { display: true, position: 'bottom' }
                },
                scales: {
                    y: {
                        beginAtZero: false,
                        ticks: {
                            callback: function(value) {
                                return '¬•' + value + 'B';
                            }
                        }
                    }
                }
            }
        });

        // Operating Margin Expansion
        new Chart(document.getElementById('chart-meituan-profit'), {
            type: 'bar',
            data: {
                labels: ['FY 2023', 'FY 2024', 'FY 2025E'],
                datasets: [
                    {
                        label: 'Net Income (¬•B)',
                        data: [30.2, 47.5, 62.0],
                        backgroundColor: 'rgba(255, 209, 0, 0.7)',
                        borderColor: '#FFD100',
                        borderWidth: 2,
                        yAxisID: 'y'
                    },
                    {
                        label: 'Operating Margin (%)',
                        data: [10.8, 14.6, 16.3],
                        type: 'line',
                        borderColor: '#2196F3',
                        backgroundColor: 'rgba(33, 150, 243, 0.1)',
                        borderWidth: 3,
                        yAxisID: 'y1',
                        fill: false
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    title: {
                        display: true,
                        text: 'Meituan Profitability & Margin Expansion',
                        font: { size: 16, weight: 'bold' }
                    },
                    legend: { display: true, position: 'bottom' }
                },
                scales: {
                    y: {
                        type: 'linear',
                        position: 'left',
                        beginAtZero: true,
                        ticks: {
                            callback: function(value) {
                                return '¬•' + value + 'B';
                            }
                        }
                    },
                    y1: {
                        type: 'linear',
                        position: 'right',
                        beginAtZero: true,
                        max: 25,
                        ticks: {
                            callback: function(value) {
                                return value + '%';
                            }
                        },
                        grid: {
                            drawOnChartArea: false
                        }
                    }
                }
            }
        });

        // Segment Revenue
        new Chart(document.getElementById('chart-meituan-segments'), {
            type: 'bar',
            data: {
                labels: ['Food Delivery', 'In-Store/Hotel/Travel', 'New Initiatives'],
                datasets: [
                    {
                        label: 'FY 2023',
                        data: [168.5, 84.3, 27.0],
                        backgroundColor: 'rgba(255, 209, 0, 0.6)'
                    },
                    {
                        label: 'FY 2024',
                        data: [195.0, 98.5, 32.0],
                        backgroundColor: 'rgba(255, 209, 0, 0.8)'
                    },
                    {
                        label: 'FY 2025E',
                        data: [228.0, 116.0, 36.0],
                        backgroundColor: 'rgba(255, 209, 0, 1)'
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    title: {
                        display: true,
                        text: 'Meituan Revenue by Segment (¬•B)',
                        font: { size: 16, weight: 'bold' }
                    },
                    legend: { display: true, position: 'bottom' }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        ticks: {
                            callback: function(value) {
                                return '¬•' + value + 'B';
                            }
                        }
                    }
                }
            }
        });

        // COMPARATIVE CHARTS
        // Revenue Comparison
        new Chart(document.getElementById('chart-comparison-revenue'), {
            type: 'bar',
            data: {
                labels: ['FY 2023', 'FY 2024', 'FY 2025E'],
                datasets: [
                    {
                        label: 'Alibaba',
                        data: [868.7, 902.5, 945.0],
                        backgroundColor: 'rgba(255, 106, 0, 0.8)',
                        borderColor: '#FF6A00',
                        borderWidth: 2
                    },
                    {
                        label: 'Meituan',
                        data: [279.8, 325.5, 380.0],
                        backgroundColor: 'rgba(255, 209, 0, 0.8)',
                        borderColor: '#FFD100',
                        borderWidth: 2
                    },
                    {
                        label: 'Xiaomi',
                        data: [270.9, 305.0, 348.0],
                        backgroundColor: 'rgba(255, 103, 0, 0.8)',
                        borderColor: '#FF6700',
                        borderWidth: 2
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    title: {
                        display: true,
                        text: 'Revenue Comparison (¬•B)',
                        font: { size: 18, weight: 'bold' },
                        color: '#fff'
                    },
                    legend: {
                        display: true,
                        position: 'bottom',
                        labels: { color: '#fff', font: { size: 12 } }
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        ticks: {
                            callback: function(value) {
                                return '¬•' + value + 'B';
                            },
                            color: '#fff'
                        },
                        grid: { color: 'rgba(255,255,255,0.1)' }
                    },
                    x: {
                        ticks: { color: '#fff' },
                        grid: { color: 'rgba(255,255,255,0.1)' }
                    }
                }
            }
        });

        // Profit Comparison
        new Chart(document.getElementById('chart-comparison-profit'), {
            type: 'bar',
            data: {
                labels: ['FY 2023', 'FY 2024', 'FY 2025E'],
                datasets: [
                    {
                        label: 'Alibaba',
                        data: [76.8, 95.3, 112.0],
                        backgroundColor: 'rgba(255, 106, 0, 0.8)',
                        borderColor: '#FF6A00',
                        borderWidth: 2
                    },
                    {
                        label: 'Meituan',
                        data: [30.2, 47.5, 62.0],
                        backgroundColor: 'rgba(255, 209, 0, 0.8)',
                        borderColor: '#FFD100',
                        borderWidth: 2
                    },
                    {
                        label: 'Xiaomi',
                        data: [19.3, 24.8, 30.5],
                        backgroundColor: 'rgba(255, 103, 0, 0.8)',
                        borderColor: '#FF6700',
                        borderWidth: 2
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    title: {
                        display: true,
                        text: 'Net Income Comparison (¬•B)',
                        font: { size: 18, weight: 'bold' },
                        color: '#fff'
                    },
                    legend: {
                        display: true,
                        position: 'bottom',
                        labels: { color: '#fff', font: { size: 12 } }
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        ticks: {
                            callback: function(value) {
                                return '¬•' + value + 'B';
                            },
                            color: '#fff'
                        },
                        grid: { color: 'rgba(255,255,255,0.1)' }
                    },
                    x: {
                        ticks: { color: '#fff' },
                        grid: { color: 'rgba(255,255,255,0.1)' }
                    }
                }
            }
        });

        // Margin Comparison
        new Chart(document.getElementById('chart-comparison-margins'), {
            type: 'line',
            data: {
                labels: ['FY 2023', 'FY 2024', 'FY 2025E'],
                datasets: [
                    {
                        label: 'Alibaba Gross Margin',
                        data: [37.2, 38.5, 39.0],
                        borderColor: '#FF6A00',
                        backgroundColor: 'rgba(255, 106, 0, 0.1)',
                        borderWidth: 3,
                        fill: false,
                        tension: 0.4
                    },
                    {
                        label: 'Xiaomi Gross Margin',
                        data: [19.8, 21.2, 22.5],
                        borderColor: '#FF6700',
                        backgroundColor: 'rgba(255, 103, 0, 0.1)',
                        borderWidth: 3,
                        fill: false,
                        tension: 0.4
                    },
                    {
                        label: 'Meituan Operating Margin',
                        data: [10.8, 14.6, 16.3],
                        borderColor: '#FFD100',
                        backgroundColor: 'rgba(255, 209, 0, 0.1)',
                        borderWidth: 3,
                        fill: false,
                        tension: 0.4
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    title: {
                        display: true,
                        text: 'Margin Comparison (%)',
                        font: { size: 18, weight: 'bold' },
                        color: '#fff'
                    },
                    legend: {
                        display: true,
                        position: 'bottom',
                        labels: { color: '#fff', font: { size: 12 } }
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        max: 45,
                        ticks: {
                            callback: function(value) {
                                return value + '%';
                            },
                            color: '#fff'
                        },
                        grid: { color: 'rgba(255,255,255,0.1)' }
                    },
                    x: {
                        ticks: { color: '#fff' },
                        grid: { color: 'rgba(255,255,255,0.1)' }
                    }
                }
            }
        });

        // Growth Rate Comparison
        new Chart(document.getElementById('chart-comparison-growth'), {
            type: 'bar',
            data: {
                labels: ['Revenue Growth %', 'Profit Growth %'],
                datasets: [
                    {
                        label: 'Alibaba (FY24-25E)',
                        data: [4.7, 17.5],
                        backgroundColor: 'rgba(255, 106, 0, 0.8)'
                    },
                    {
                        label: 'Xiaomi (FY24-25E)',
                        data: [14.1, 23.0],
                        backgroundColor: 'rgba(255, 103, 0, 0.8)'
                    },
                    {
                        label: 'Meituan (FY24-25E)',
                        data: [16.7, 30.5],
                        backgroundColor: 'rgba(255, 209, 0, 0.8)'
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    title: {
                        display: true,
                        text: 'Growth Rate Comparison (FY24 to FY25E)',
                        font: { size: 18, weight: 'bold' },
                        color: '#fff'
                    },
                    legend: {
                        display: true,
                        position: 'bottom',
                        labels: { color: '#fff', font: { size: 12 } }
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        ticks: {
                            callback: function(value) {
                                return value + '%';
                            },
                            color: '#fff'
                        },
                        grid: { color: 'rgba(255,255,255,0.1)' }
                    },
                    x: {
                        ticks: { color: '#fff' },
                        grid: { color: 'rgba(255,255,255,0.1)' }
                    }
                }
            }
        });

        // Valuation Comparison
        new Chart(document.getElementById('chart-comparison-valuation'), {
            type: 'bar',
            data: {
                labels: ['Alibaba', 'Xiaomi', 'Meituan'],
                datasets: [
                    {
                        label: 'Forward P/E (FY25E)',
                        data: [10.2, 15.3, 20.1],
                        backgroundColor: ['rgba(255, 106, 0, 0.8)', 'rgba(255, 103, 0, 0.8)', 'rgba(255, 209, 0, 0.8)'],
                        borderWidth: 2,
                        borderColor: '#fff'
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                indexAxis: 'y',
                plugins: {
                    title: {
                        display: true,
                        text: 'Valuation Comparison - Forward P/E Multiple',
                        font: { size: 18, weight: 'bold' },
                        color: '#fff'
                    },
                    legend: {
                        display: true,
                        position: 'bottom',
                        labels: { color: '#fff', font: { size: 12 } }
                    }
                },
                scales: {
                    x: {
                        beginAtZero: true,
                        max: 25,
                        ticks: {
                            callback: function(value) {
                                return value + 'x';
                            },
                            color: '#fff'
                        },
                        grid: { color: 'rgba(255,255,255,0.1)' }
                    },
                    y: {
                        ticks: { color: '#fff' },
                        grid: { color: 'rgba(255,255,255,0.1)' }
                    }
                }
            }
        });
    </script>

    <!-- Bootstrap Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>


    <!-- Chart.js Scripts -->
    <script>
        Chart.defaults.font.family = "'Segoe UI', Tahoma, Geneva, Verdana, sans-serif";
        Chart.defaults.color = '#333';

        // Summary Tab Charts
        new Chart(document.getElementById('chart-summary-revenue'), {
            type: 'bar',
            data: {
                labels: ['Alibaba', 'Xiaomi', 'Meituan'],
                datasets: [{
                    label: 'FY 2024 Revenue (¬•B)',
                    data: [902.5, 305.0, 325.5],
                    backgroundColor: ['rgba(255, 106, 0, 0.8)', 'rgba(255, 103, 0, 0.8)', 'rgba(255, 209, 0, 0.8)'],
                    borderWidth: 2
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    title: { display: true, text: 'Revenue Comparison (¬•B)', font: { size: 16, weight: 'bold' } }
                }
            }
        });

        new Chart(document.getElementById('chart-summary-growth'), {
            type: 'bar',
            data: {
                labels: ['Alibaba', 'Xiaomi', 'Meituan'],
                datasets: [{
                    label: 'Revenue Growth %',
                    data: [4.7, 14.1, 16.7],
                    backgroundColor: 'rgba(102, 126, 234, 0.8)'
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    title: { display: true, text: 'Revenue Growth Rate (%)', font: { size: 16, weight: 'bold' } }
                }
            }
        });

        new Chart(document.getElementById('chart-summary-margins'), {
            type: 'bar',
            data: {
                labels: ['Alibaba', 'Xiaomi', 'Meituan'],
                datasets: [{
                    label: 'Operating Margin %',
                    data: [13.2, 8.1, 14.6],
                    backgroundColor: 'rgba(118, 75, 162, 0.8)'
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    title: { display: true, text: 'Operating Margins (%)', font: { size: 16, weight: 'bold' } }
                }
            }
        });

        new Chart(document.getElementById('chart-summary-valuation'), {
            type: 'bar',
            data: {
                labels: ['Alibaba', 'Xiaomi', 'Meituan'],
                datasets: [{
                    label: 'Forward P/E',
                    data: [10.2, 15.3, 20.1],
                    backgroundColor: ['rgba(255, 106, 0, 0.8)', 'rgba(255, 103, 0, 0.8)', 'rgba(255, 209, 0, 0.8)']
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    title: { display: true, text: 'Valuation - Forward P/E', font: { size: 16, weight: 'bold' } }
                }
            }
        });

        // Alibaba Charts
        new Chart(document.getElementById('chart-alibaba-revenue'), {
            type: 'line',
            data: {
                labels: ['FY 2022', 'FY 2023', 'FY 2024', 'FY 2025E'],
                datasets: [{
                    label: 'Revenue (¬•B)',
                    data: [853.1, 868.7, 902.5, 945.0],
                    borderColor: '#FF6A00',
                    backgroundColor: 'rgba(255, 106, 0, 0.1)',
                    borderWidth: 3,
                    fill: true,
                    tension: 0.4
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    title: { display: true, text: 'Alibaba Revenue Trend', font: { size: 16, weight: 'bold' } }
                }
            }
        });

        new Chart(document.getElementById('chart-alibaba-margin'), {
            type: 'line',
            data: {
                labels: ['FY 2022', 'FY 2023', 'FY 2024', 'FY 2025E'],
                datasets: [{
                    label: 'Operating Margin %',
                    data: [10.2, 11.5, 13.2, 14.5],
                    borderColor: '#667eea',
                    backgroundColor: 'rgba(102, 126, 234, 0.1)',
                    borderWidth: 3,
                    fill: true,
                    tension: 0.4
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    title: { display: true, text: 'Alibaba Operating Margin Expansion', font: { size: 16, weight: 'bold' } }
                }
            }
        });

        // Xiaomi Charts
        new Chart(document.getElementById('chart-xiaomi-revenue'), {
            type: 'line',
            data: {
                labels: ['FY 2022', 'FY 2023', 'FY 2024', 'FY 2025E'],
                datasets: [{
                    label: 'Revenue (¬•B)',
                    data: [280.3, 270.9, 305.0, 348.0],
                    borderColor: '#FF6700',
                    backgroundColor: 'rgba(255, 103, 0, 0.1)',
                    borderWidth: 3,
                    fill: true,
                    tension: 0.4
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    title: { display: true, text: 'Xiaomi Revenue Trend', font: { size: 16, weight: 'bold' } }
                }
            }
        });

        new Chart(document.getElementById('chart-xiaomi-margin'), {
            type: 'line',
            data: {
                labels: ['FY 2022', 'FY 2023', 'FY 2024', 'FY 2025E'],
                datasets: [{
                    label: 'Gross Margin %',
                    data: [18.5, 19.8, 21.2, 22.5],
                    borderColor: '#667eea',
                    backgroundColor: 'rgba(102, 126, 234, 0.1)',
                    borderWidth: 3,
                    fill: true,
                    tension: 0.4
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    title: { display: true, text: 'Xiaomi Gross Margin Expansion', font: { size: 16, weight: 'bold' } }
                }
            }
        });

        // Meituan Charts
        new Chart(document.getElementById('chart-meituan-revenue'), {
            type: 'line',
            data: {
                labels: ['FY 2022', 'FY 2023', 'FY 2024', 'FY 2025E'],
                datasets: [{
                    label: 'Revenue (¬•B)',
                    data: [207.4, 279.8, 325.5, 380.0],
                    borderColor: '#FFD100',
                    backgroundColor: 'rgba(255, 209, 0, 0.1)',
                    borderWidth: 3,
                    fill: true,
                    tension: 0.4
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    title: { display: true, text: 'Meituan Revenue Trend', font: { size: 16, weight: 'bold' } }
                }
            }
        });

        new Chart(document.getElementById('chart-meituan-margin'), {
            type: 'line',
            data: {
                labels: ['FY 2022', 'FY 2023', 'FY 2024', 'FY 2025E'],
                datasets: [{
                    label: 'Operating Margin %',
                    data: [4.3, 10.8, 14.6, 16.3],
                    borderColor: '#667eea',
                    backgroundColor: 'rgba(102, 126, 234, 0.1)',
                    borderWidth: 3,
                    fill: true,
                    tension: 0.4
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    title: { display: true, text: 'Meituan Operating Margin Expansion', font: { size: 16, weight: 'bold' } }
                }
            }
        });

        // Load news for each company
        async function loadNews(company, elementId) {
            const container = document.getElementById(elementId);

            try {
                console.log(`Loading news for ${company}...`);
                const response = await fetch(`data/news_${company}.json`);

                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }

                const newsData = await response.json();
                console.log(`Loaded ${newsData.length} news items for ${company}`);
                displayNews(newsData, elementId);
            } catch (error) {
                console.error(`Error loading news for ${company}:`, error);

                // Check if it's a CORS/file protocol issue
                if (window.location.protocol === 'file:') {
                    container.innerHTML = `
                        <div class="news-loading" style="background: #fff3cd; color: #856404; padding: 20px; border-radius: 8px;">
                            <strong>‚ö†Ô∏è Local File Detected</strong>
                            <p>News requires a web server to load. Please either:</p>
                            <ul style="text-align: left; margin: 10px 0;">
                                <li>Run: <code>python3 -m http.server 8000</code></li>
                                <li>Or view on GitHub Pages</li>
                            </ul>
                            <p><em>Alternatively, news will update automatically when deployed to GitHub Pages.</em></p>
                        </div>
                    `;
                } else {
                    container.innerHTML = `
                        <div class="news-loading">
                            <p>üì∞ News data not yet available</p>
                            <p style="font-size: 0.9em; color: #6c757d;">
                                News updates every 6 hours (00:15, 06:15, 12:15, 18:15 UTC)
                            </p>
                            <p style="font-size: 0.85em;">
                                <a href="https://github.com/yyyfor/stock-master/actions" target="_blank">
                                    Trigger manual update ‚Üí
                                </a>
                            </p>
                        </div>
                    `;
                }
            }
        }

        function displayNews(newsData, elementId) {
            const container = document.getElementById(elementId);

            if (!newsData || newsData.length === 0) {
                container.innerHTML = `
                    <div class="news-loading">
                        <p>No recent news available</p>
                        <p style="font-size: 0.85em; color: #6c757d;">News updates every 6 hours</p>
                    </div>
                `;
                return;
            }

            let html = '';
            newsData.slice(0, 5).forEach(item => {
                // Handle nested content structure
                const content = item.content || item;
                const title = content.title || 'No title';
                const link = content.canonicalUrl?.url || content.clickThroughUrl?.url || '#';
                const publisher = content.provider?.displayName || 'Unknown';
                const pubDate = content.pubDate || content.displayTime;
                const date = pubDate ? new Date(pubDate).toLocaleDateString() : 'Unknown date';
                const summary = content.summary || 'No summary available.';

                html += `
                    <div class="news-item">
                        <h4><a href="${link}" target="_blank" rel="noopener">${title}</a></h4>
                        <div class="news-meta">
                            <span class="news-source">${publisher}</span> ‚Ä¢
                            <span class="news-date">${date}</span>
                        </div>
                        <p class="news-summary">${summary}</p>
                    </div>
                `;
            });

            container.innerHTML = html;
        }

        // Load news immediately when page loads (for all tabs)
        window.addEventListener('DOMContentLoaded', function() {
            console.log('Page loaded, attempting to load news...');

            // Try to load news for all companies immediately
            setTimeout(function() {
                loadNews('alibaba', 'alibaba-news');
                loadNews('xiaomi', 'xiaomi-news');
                loadNews('meituan', 'meituan-news');
            }, 500); // Small delay to ensure page is ready
        });

        // Also load news when tabs are shown (backup)
        document.getElementById('alibaba-tab').addEventListener('shown.bs.tab', function() {
            if (!document.getElementById('alibaba-news').dataset.loaded) {
                loadNews('alibaba', 'alibaba-news');
                document.getElementById('alibaba-news').dataset.loaded = 'true';
            }
        });

        document.getElementById('xiaomi-tab').addEventListener('shown.bs.tab', function() {
            if (!document.getElementById('xiaomi-news').dataset.loaded) {
                loadNews('xiaomi', 'xiaomi-news');
                document.getElementById('xiaomi-news').dataset.loaded = 'true';
            }
        });

        document.getElementById('meituan-tab').addEventListener('shown.bs.tab', function() {
            if (!document.getElementById('meituan-news').dataset.loaded) {
                loadNews('meituan', 'meituan-news');
                document.getElementById('meituan-news').dataset.loaded = 'true';
            }
        });


    </script>

</body>
</html>